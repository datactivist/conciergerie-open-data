version: "2.0"
stories:

- story: search form follow-up - user doesn't confirm search - start another search form
  steps:
  - action: utter_submit_search_form
  - action: action_utter_confirm_search
  - intent: deny
  - action: action_reset_all_slots
  - action: utter_dont_send_search_form
  - action: search_form
  - active_loop: search_form

- story: search form follow-up - user confirm search - user want to give feedback
  steps:
  - action: utter_submit_search_form
  - action: action_utter_confirm_search
  - intent: affirm
  - action: action_send_search_information_to_database
  - action: action_send_keywords_feedback_to_database
  - action: utter_send_search_form
  - action: action_search_database
  - action: action_send_results_feedback_to_database
  - action: utter_feedback_proposition
  - intent: affirm
  - action: utter_thanks_you
  - action: feedback_results_form
  - active_loop: feedback_results_form


- story: search form follow-up - user confirm search - user doens't want to give feedback nor need anything else
  steps:
  - action: utter_submit_search_form
  - action: action_utter_confirm_search
  - intent: affirm
  - action: action_send_search_information_to_database
  - action: action_send_keywords_feedback_to_database
  - action: utter_send_search_form
  - action: action_search_database
  - action: action_send_results_feedback_to_database
  - action: utter_feedback_proposition
  - intent: deny
  - action: action_reset_all_slots
  - action: utter_no_problem_anything_else
  - intent: deny
  - action: utter_goodbye

- story: search form follow-up - user confirm search - user doens't want to give feedback but need more help
  steps:
  - action: utter_submit_search_form
  - action: action_utter_confirm_search
  - intent: affirm
  - action: action_send_search_information_to_database
  - action: action_send_keywords_feedback_to_database
  - action: utter_send_search_form
  - action: action_search_database
  - action: action_send_results_feedback_to_database
  - action: utter_feedback_proposition
  - intent: deny
  - action: action_reset_all_slots
  - action: utter_no_problem_anything_else
  - intent: affirm
  - action: utter_faq/ask_skills

- story: Feedback Form follow-up - need more help
  steps:
  - action: action_send_results_feedback_to_database
  - action: utter_submit_feedback_form
  - intent: affirm
  - action: utter_faq/ask_skills

- story: Feedback Form follow-up - doesn't need more help
  steps:
  - action: action_send_results_feedback_to_database
  - action: utter_submit_feedback_form
  - intent: deny
  - action: utter_goodbye